<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rithanya M | Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Outfit', 'sans-serif'],
              mono: ['Space Grotesk', 'monospace'],
            },
            colors: {
              background: '#050505',
              surface: '#0A0A0A',
              primary: '#8b5cf6',
              secondary: '#d946ef',
            },
            animation: {
              'blob': 'blob 7s infinite',
              'fade-up': 'fadeUp 0.5s ease-out forwards',
            },
            keyframes: {
              blob: {
                '0%': { transform: 'translate(0px, 0px) scale(1)' },
                '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                '100%': { transform: 'translate(0px, 0px) scale(1)' },
              },
              fadeUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #050505;
        color: #e2e8f0;
        overflow-x: hidden;
      }
      ::selection {
        background: rgba(139, 92, 246, 0.3);
        color: #fff;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #050505; 
      }
      ::-webkit-scrollbar-thumb {
        background: #334155; 
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #475569; 
      }
      
      /* Spotlight Effect */
      .spotlight-card {
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: border-color 0.3s;
      }
      .spotlight-card:hover {
        border-color: rgba(139, 92, 246, 0.3);
      }
      .spotlight-card::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: radial-gradient(600px circle at var(--mouse-x, 0px) var(--mouse-y, 0px), rgba(139, 92, 246, 0.15), transparent 40%);
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
        z-index: 1;
      }
      .spotlight-card:hover::before {
        opacity: 1;
      }
      
      /* Reveal Animation Class */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease-out;
      }
      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }

      /* Chat Modal Animation */
      .chat-enter {
        animation: chatEnter 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
      @keyframes chatEnter {
        from { opacity: 0; transform: scale(0.9) translateY(20px); }
        to { opacity: 1; transform: scale(1) translateY(0); }
      }
    </style>
    
    <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0"
      }
    }
    </script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="antialiased relative">

    <!-- Scroll Progress -->
    <div id="progress-bar" class="fixed top-0 left-0 h-1 bg-gradient-to-r from-violet-500 via-fuchsia-500 to-cyan-500 z-[100] w-0 transition-all duration-100 ease-out"></div>

    <!-- Dynamic Background -->
    <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
        <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-violet-900/20 rounded-full blur-[120px] animate-blob"></div>
        <div class="absolute top-[20%] right-[-10%] w-[30%] h-[30%] bg-fuchsia-900/20 rounded-full blur-[100px] animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-[-10%] left-[20%] w-[30%] h-[40%] bg-cyan-900/10 rounded-full blur-[120px] animate-blob animation-delay-4000"></div>
        <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"></div>
    </div>

    <!-- Floating Navigation -->
    <nav class="fixed top-6 left-1/2 -translate-x-1/2 z-40 w-[90%] max-w-lg">
        <div class="bg-black/60 backdrop-blur-xl border border-white/10 rounded-full px-6 py-3 shadow-2xl flex justify-between items-center">
          <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400"> R </span>
          <div class="flex gap-6 text-sm font-medium text-slate-400">
             <a href="#home" class="nav-link hover:text-white transition-colors relative group">Home</a>
             <a href="#about" class="nav-link hover:text-white transition-colors relative group">About</a>
             <a href="#work" class="nav-link hover:text-white transition-colors relative group">Work</a>
             <a href="#projects" class="nav-link hover:text-white transition-colors relative group">Projects</a>
          </div>
          <div class="flex gap-3 border-l border-white/10 pl-4">
             <a href="https://github.com/Rithanya928" target="_blank" class="text-slate-400 hover:text-white transition transform hover:scale-110">
                <i data-lucide="github" class="w-4 h-4"></i>
             </a>
             <a href="https://www.linkedin.com/in/rithanya-m-73a901323" target="_blank" class="text-slate-400 hover:text-white transition transform hover:scale-110">
                <i data-lucide="linkedin" class="w-4 h-4"></i>
             </a>
          </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="home" class="relative min-h-screen flex items-center justify-center pt-20 px-4">
        <div class="max-w-5xl mx-auto text-center z-10 reveal active">
           <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-sm text-fuchsia-300 mb-8 backdrop-blur-sm">
              <span class="relative flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-fuchsia-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-fuchsia-500"></span>
              </span>
              Available for Opportunities
           </div>

           <h1 class="text-6xl md:text-8xl lg:text-9xl font-bold text-white mb-6 tracking-tight leading-[0.9]">
             Rithanya M
             <span class="block text-transparent bg-clip-text bg-gradient-to-r from-violet-500 via-fuchsia-500 to-white"></span>
           </h1>

           <p class="text-xl md:text-2xl text-slate-400 mb-10 max-w-2xl mx-auto font-light leading-relaxed">
             Crafting digital experiences at the intersection of <span class="text-violet-400 font-medium">Design</span> and <span class="text-fuchsia-400 font-medium">Artificial Intelligence</span>.
           </p>
           
           <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
             <a href="mailto:rithanya928@gmail.com" class="group relative px-8 py-4 bg-white text-black font-bold rounded-full overflow-hidden transition-transform hover:scale-105">
                <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-violet-300 to-fuchsia-300 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                <span class="relative flex items-center gap-2">
                  Contact Me <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                </span>
             </a>
             <a href="#" class="px-8 py-4 rounded-full border border-white/20 text-white font-medium hover:bg-white/5 transition flex items-center gap-2 backdrop-blur-md">
                <i data-lucide="download" class="w-4 h-4"></i> Download CV
             </a>
           </div>
        </div>

        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 text-slate-600 animate-bounce">
          <div class="w-6 h-10 border-2 border-slate-600 rounded-full flex justify-center p-2">
            <div class="w-1 h-1 bg-slate-600 rounded-full"></div>
          </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-20 space-y-32 relative z-10">
        
        <!-- About Section -->
        <section id="about" class="grid lg:grid-cols-2 gap-16 items-start reveal">
          <div>
            <div class="mb-12">
                <div class="flex items-center gap-3 mb-2">
                    <div class="p-2 bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20 rounded-lg text-violet-400 border border-violet-500/10">
                        <i data-lucide="code" class="w-5 h-5"></i>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-white tracking-tight">About Me</h2>
                </div>
                <p class="text-slate-400 ml-12 max-w-lg">I am a Computer Science student with a passion for building intuitive user interfaces and intelligent systems.</p>
            </div>
            
            <div class="prose prose-invert prose-lg text-slate-400 leading-relaxed mb-8">
              <p id="objective-text">Loading...</p>
            </div>

            <div class="flex flex-wrap gap-3 mb-8" id="soft-skills">
               <!-- Populated by JS -->
            </div>

            <div class="grid grid-cols-2 gap-6 mt-12">
               <div class="p-6 rounded-2xl bg-white/[0.03] border border-white/5">
                  <h4 class="text-3xl font-bold text-white mb-1">85%</h4>
                  <p class="text-sm text-slate-500 uppercase tracking-wider">Academic Score</p>
               </div>
               <div class="p-6 rounded-2xl bg-white/[0.03] border border-white/5">
                  <h4 class="text-3xl font-bold text-white mb-1">4+</h4>
                  <p class="text-sm text-slate-500 uppercase tracking-wider">Internships</p>
               </div>
            </div>
          </div>

          <div class="relative">
             <div class="absolute inset-0 bg-gradient-to-tr from-violet-600/20 to-fuchsia-600/20 rounded-3xl blur-2xl -z-10"></div>
             <div class="bg-[#0A0A0A] border border-white/10 rounded-3xl p-8 shadow-2xl relative overflow-hidden spotlight-card">
                <div class="absolute top-0 right-0 p-4 opacity-20">
                   <i data-lucide="sparkles" class="w-24 h-24 text-white"></i>
                </div>
                
                <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                  <i data-lucide="graduation-cap" class="text-fuchsia-500"></i> Education
                </h3>

                <div class="space-y-8" id="education-list">
                  <!-- Populated by JS -->
                </div>

                <div class="mt-8 pt-8 border-t border-white/10">
                  <h3 class="text-xl font-bold text-white mb-4">Core Skills</h3>
                  <div class="grid grid-cols-2 gap-4" id="skills-list">
                     <!-- Populated by JS -->
                  </div>
                </div>
             </div>
          </div>
        </section>

        <!-- Work Timeline Section -->
        <section id="work" class="reveal">
            <div class="mb-12">
                <div class="flex items-center gap-3 mb-2">
                    <div class="p-2 bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20 rounded-lg text-violet-400 border border-violet-500/10">
                        <i data-lucide="briefcase" class="w-5 h-5"></i>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-white tracking-tight">Work Experience</h2>
                </div>
                <p class="text-slate-400 ml-12 max-w-lg">My professional journey through internships and hands-on experience.</p>
            </div>
          
            <div class="relative space-y-8 pl-12 md:pl-0" id="work-timeline">
                <!-- Mobile Vertical Line -->
                <div class="absolute left-[27px] top-4 bottom-4 w-px bg-gradient-to-b from-white/10 via-violet-500/50 to-white/10 md:hidden"></div>
                <!-- Items Populated by JS -->
            </div>
        </section>

        <!-- Projects Grid Section -->
        <section id="projects" class="reveal">
            <div class="mb-12">
                <div class="flex items-center gap-3 mb-2">
                    <div class="p-2 bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20 rounded-lg text-violet-400 border border-violet-500/10">
                        <i data-lucide="terminal" class="w-5 h-5"></i>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-white tracking-tight">Featured Projects</h2>
                </div>
                <p class="text-slate-400 ml-12 max-w-lg">Highlighting key projects from GitHub and my portfolio.</p>
            </div>
          
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="projects-grid">
                 <!-- Populated by JS -->
                 <div class="col-span-full text-center text-slate-500 py-10">Loading Projects...</div>
            </div>
        </section>

        <!-- Footer -->
        <section class="relative py-20 reveal">
          <div class="absolute inset-0 bg-gradient-to-t from-violet-900/10 to-transparent rounded-3xl -z-10"></div>
          
          <div class="text-center max-w-2xl mx-auto">
             <h2 class="text-4xl font-bold text-white mb-6">Let's Work Together</h2>
             <p class="text-slate-400 mb-10">
               I am currently seeking new opportunities and challenges. Whether you have a question or just want to say hi, I'll try my best to get back to you!
             </p>
             
             <div class="flex justify-center gap-6 mb-12">
               <a href="mailto:rithanya928@gmail.com" class="flex flex-col items-center gap-2 group">
                 <div class="w-12 h-12 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-violet-600 transition-colors">
                   <i data-lucide="mail" class="w-5 h-5 text-white"></i>
                 </div>
                 <span class="text-xs text-slate-500 group-hover:text-white transition-colors">Email</span>
               </a>
               <a href="https://www.linkedin.com/in/rithanya-m-73a901323" class="flex flex-col items-center gap-2 group">
                 <div class="w-12 h-12 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-[#0077b5] transition-colors">
                   <i data-lucide="linkedin" class="w-5 h-5 text-white"></i>
                 </div>
                 <span class="text-xs text-slate-500 group-hover:text-white transition-colors">LinkedIn</span>
               </a>
               <a href="https://github.com/Rithanya928" class="flex flex-col items-center gap-2 group">
                 <div class="w-12 h-12 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-gray-800 transition-colors">
                   <i data-lucide="github" class="w-5 h-5 text-white"></i>
                 </div>
                 <span class="text-xs text-slate-500 group-hover:text-white transition-colors">GitHub</span>
               </a>
             </div>

             <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-slate-600">
               <p>&copy; 2025 Rithanya M. All rights reserved.</p>
               <div class="flex gap-4 mt-4 md:mt-0">
                 <span class="flex items-center gap-1"><i data-lucide="map-pin" class="w-3 h-3"></i> Kerala, India</span>
               </div>
             </div>
          </div>
        </section>

    </main>

    <!-- AI Chat Widget -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        <div id="chat-window" class="hidden w-80 md:w-96 bg-black/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden mb-4 flex flex-col h-[500px] origin-bottom-right">
            <!-- Header -->
            <div class="bg-gradient-to-r from-violet-600/20 to-fuchsia-600/20 p-4 border-b border-white/10 flex justify-between items-center backdrop-blur-md">
                <div class="flex items-center gap-3">
                <div class="p-1.5 bg-gradient-to-br from-violet-500 to-fuchsia-500 rounded-lg">
                    <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                </div>
                <div>
                    <h3 class="text-white font-bold text-sm">Rithanya AI</h3>
                    <div class="flex items-center gap-1">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                    <span class="text-[10px] text-slate-400">Online</span>
                    </div>
                </div>
                </div>
                <button id="close-chat" class="text-white/50 hover:text-white transition">
                <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Messages -->
            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4">
                <div class="flex justify-start">
                    <div class="max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed bg-white/5 text-slate-200 rounded-tl-none border border-white/10">
                        Hi! I'm Rithanya's AI Assistant. Ask me anything about her skills, projects, or experience!
                    </div>
                </div>
            </div>

            <!-- Input -->
            <div class="p-3 border-t border-white/10 bg-black/50">
                <div class="flex items-center gap-2">
                <input id="chat-input" type="text" placeholder="Ask a question..." class="flex-1 bg-white/5 text-slate-200 text-sm rounded-full px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-violet-500/50 border border-white/10 placeholder:text-slate-600">
                <button id="send-btn" class="p-2.5 bg-white text-black rounded-full hover:bg-slate-200 transition disabled:opacity-50">
                    <i data-lucide="send" class="w-4 h-4"></i>
                </button>
                </div>
            </div>
        </div>

        <button id="toggle-chat" class="group relative flex items-center justify-center w-14 h-14 bg-white text-black rounded-full shadow-[0_0_20px_rgba(255,255,255,0.3)] z-50 overflow-hidden transition-transform hover:scale-105 active:scale-95">
            <div class="absolute inset-0 bg-gradient-to-r from-violet-200 to-fuchsia-200 opacity-0 group-hover:opacity-100 transition-opacity"></div>
            <i data-lucide="sparkles" class="w-6 h-6 relative z-10" id="chat-icon-open"></i>
            <i data-lucide="x" class="w-6 h-6 relative z-10 hidden" id="chat-icon-close"></i>
        </button>
    </div>

    <!-- Main Logic -->
    <script type="module">
        import { GoogleGenAI } from "@google/genai";

        // --- Data ---
        const RESUME_DATA = {
            name: "Rithanya M",
            title: "Computer Science Student | UI/UX & AI Enthusiast",
            objective: "Seeking a challenging role where I can leverage my technical skills, continuously learn emerging technologies, and contribute meaningfully to the organization’s growth and success.",
            contact: {
                phone: "+91 62389 88564",
                email: "rithanya928@gmail.com",
                github: "https://github.com/Rithanya928",
                linkedin: "https://www.linkedin.com/in/rithanya-m-73a901323",
                address: "Chemmanamthodu, Meenkara (Po), Chittur (Tk), Palakkad, Kerala-678 507"
            },
            education: [
                {
                institution: "Nallamuthu Gounder Mahalingam College (Bharathiar University)",
                degree: "Bachelor of Computer Science",
                duration: "June 2023 - May 2026",
                details: "Current Percentage: 85%"
                },
                {
                institution: "Shri Krishna Vidyalaya Matric Higher Secondary School",
                degree: "HSC & SSLC",
                duration: "June 2010 - March 2023",
                details: "SSLC: 100% | HSC: 74.6% (CS, Maths, Physics, Chemistry)"
                }
            ],
            skills: [
                { category: "Programming Languages", items: ["Python", "Java", "C", "C++"] },
                { category: "Web Technologies", items: ["HTML", "CSS", "JavaScript", "React"] },
                { category: "UI/UX & Design", items: ["Figma", "Adobe Photoshop", "Canva"] },
                { category: "Database", items: ["MySQL", "SQL"] },
                { category: "Tools", items: ["Git", "GitHub", "VS Code", "Jupyter Notebook", "MS Office"] }
            ],
            softSkills: [
                "Communication & Presentation",
                "Teamwork & Collaboration",
                "Problem Solving",
                "Time Management",
                "Leadership"
            ],
            internships: [
                {
                role: "UI/UX Design Intern",
                company: "CodeSoft",
                duration: "May 2025 - Jun 2025",
                description: "Designed responsive interfaces and interactive prototypes in Figma."
                },
                {
                role: "Python Developer Intern",
                company: "CodeSoft",
                duration: "Apr 2025 - May 2025",
                description: "Developed command-line apps with Python, applying OOP and file handling."
                },
                {
                role: "AI Intern",
                company: "CodeSoft",
                duration: "Feb 2025 - Mar 2025",
                description: "Built chatbots, recommendation systems, and ML models for practical AI applications."
                },
                {
                role: "Data Science Intern",
                company: "Internzvalley",
                duration: "Jan 2025 - Mar 2025",
                description: "Worked on data preprocessing, visualization, and ML using Python (Pandas, NumPy, Seaborn)."
                }
            ],
            // Manual fallback projects if Github API fails
            projects: [
                {
                name: "Titanic Survival Prediction",
                description: "Built a Logistic Regression model with feature engineering and visual insights using Pandas & Seaborn.",
                tech: ["Python", "Pandas", "ML"]
                },
                {
                name: "Heart Disease Detection",
                description: "Achieved 85%+ accuracy using supervised ML, evaluated with precision, recall & F1-score.",
                tech: ["Python", "Supervised Learning"]
                },
                {
                name: "Personal Portfolio Website",
                description: "Developed a responsive site to showcase skills, using HTML, CSS, JavaScript.",
                tech: ["HTML/CSS", "JavaScript"]
                }
            ],
            certifications: [
                "Data Science Course – Internzvalley",
                "Full Stack Development – SimpleLearn",
                "Innovating with Google Cloud AI – SimpleLearn",
                "AI For Everyone - Deeplearning.ai",
                "HTML Course – IIT Bombay",
                "Python Course – IIT Bombay",
                "NPTEL Java Programming – IIT Kharagpur",
                "TCS iON Career Edge – Young Professional"
            ],
            leadership: [
                "Class Representative - NGM College (Dept of CS)",
                "Office Bearer - AMSM Part 5 Club",
                "Conference Presentation on AI in Agriculture (Crop Prediction, Smart Irrigation)"
            ]
        };

        // --- Init Icons ---
        lucide.createIcons();

        // --- Render Static Content ---
        document.getElementById('objective-text').innerText = RESUME_DATA.objective;

        const softSkillsContainer = document.getElementById('soft-skills');
        RESUME_DATA.softSkills.forEach(skill => {
            const span = document.createElement('span');
            span.className = 'px-4 py-2 bg-white/5 rounded-full text-sm text-slate-300 border border-white/5 hover:border-violet-500/50 transition cursor-default';
            span.innerText = skill;
            softSkillsContainer.appendChild(span);
        });

        const educationContainer = document.getElementById('education-list');
        RESUME_DATA.education.forEach(edu => {
            educationContainer.innerHTML += `
            <div class="relative pl-6 border-l border-white/10">
                <div class="absolute -left-[5px] top-2 w-2.5 h-2.5 rounded-full bg-violet-500 ring-4 ring-black"></div>
                <h4 class="text-lg font-semibold text-slate-200">${edu.institution}</h4>
                <p class="text-violet-400 text-sm mb-1">${edu.degree}</p>
                <div class="flex justify-between text-xs text-slate-500">
                    <span>${edu.duration}</span>
                    <span>${edu.details}</span>
                </div>
            </div>`;
        });

        const skillsContainer = document.getElementById('skills-list');
        RESUME_DATA.skills.slice(0, 4).forEach(cat => {
            const div = document.createElement('div');
            div.innerHTML = `
                <span class="text-xs text-slate-500 uppercase block mb-2">${cat.category}</span>
                <div class="flex flex-wrap gap-1">
                    ${cat.items.slice(0,3).map((item, j) => `<span class="text-sm text-slate-300">${item}${j < 2 ? "," : ""}</span>`).join('')}
                </div>
            `;
            skillsContainer.appendChild(div);
        });

        const workContainer = document.getElementById('work-timeline');
        RESUME_DATA.internships.forEach((job, index) => {
            workContainer.innerHTML += `
            <div class="flex flex-col md:flex-row gap-6 md:gap-10 relative">
                <!-- Desktop Date -->
                <div class="hidden md:block w-48 text-right pt-4 shrink-0">
                   <span class="text-2xl font-bold text-white/5 leading-none absolute -left-4 -top-4 select-none">0${index + 1}</span>
                   <span class="text-sm font-mono text-fuchsia-400 py-1 px-3 rounded-full bg-white/5 border border-white/5 inline-block">${job.duration}</span>
                </div>
                <!-- Desktop Node -->
                <div class="hidden md:flex flex-col items-center px-4 relative">
                   <div class="w-px h-full bg-white/10 absolute top-0"></div>
                   <div class="w-3 h-3 rounded-full bg-violet-500 ring-4 ring-[#030303] z-10 mt-6 shadow-[0_0_15px_rgba(139,92,246,0.6)]"></div>
                </div>
                <!-- Mobile Node -->
                <div class="absolute left-[-34px] top-6 w-3 h-3 rounded-full bg-violet-500 ring-4 ring-[#030303] md:hidden z-10"></div>
                <!-- Card -->
                <div class="spotlight-card flex-1 p-6 md:p-8 rounded-xl hover:border-violet-500/30 transition-colors bg-white/[0.02] backdrop-blur-sm group">
                   <div class="md:hidden mb-3">
                      <span class="text-xs font-mono text-fuchsia-400 py-1 px-2 rounded bg-white/5">${job.duration}</span>
                   </div>
                   <h3 class="text-xl font-bold text-white mb-1 group-hover:text-violet-400 transition-colors">${job.role}</h3>
                   <div class="text-slate-500 text-sm font-medium mb-4 flex items-center gap-2">
                      <span class="w-1.5 h-1.5 rounded-full bg-violet-500"></span>
                      ${job.company}
                   </div>
                   <p class="text-slate-400 text-sm leading-relaxed">
                      ${job.description}
                   </p>
                </div>
            </div>`;
        });

        // --- Fetch GitHub ---
        async function fetchProjects() {
            const grid = document.getElementById('projects-grid');
            try {
                const response = await fetch('https://api.github.com/users/Rithanya928/repos?sort=updated&per_page=6');
                if (!response.ok) throw new Error('Failed to fetch');
                const repos = await response.json();
                
                grid.innerHTML = ''; // Clear loading
                const projectsToDisplay = repos.length > 0 ? repos : RESUME_DATA.projects;
                const isGithub = repos.length > 0;

                projectsToDisplay.forEach(project => {
                    const card = document.createElement('div');
                    card.className = "h-full";
                    card.innerHTML = `
                    <div class="spotlight-card h-full flex flex-col p-6 rounded-xl hover:bg-white/[0.04] transition-colors">
                        <div class="mb-4 flex-1">
                            <div class="flex justify-between items-start mb-4">
                                <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20 flex items-center justify-center text-violet-400">
                                    <i data-lucide="terminal" class="w-6 h-6"></i>
                                </div>
                                ${isGithub ? `
                                <div class="flex items-center gap-1 text-slate-500 text-xs">
                                    <i data-lucide="star" class="w-3 h-3"></i> ${project.stargazers_count}
                                </div>` : ''}
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2 truncate">${isGithub ? project.name : project.name}</h3>
                            <p class="text-slate-400 text-sm line-clamp-3 mb-4">${project.description || "No description available."}</p>
                        </div>
                        <div class="mt-auto">
                            ${isGithub ? `
                             <div class="flex flex-wrap gap-2 items-center justify-between w-full">
                                <span class="flex items-center gap-2 text-xs font-medium text-slate-300">
                                    <span class="w-2 h-2 rounded-full bg-fuchsia-500"></span>
                                    ${project.language || 'Code'}
                                </span>
                                <a href="${project.html_url}" target="_blank" class="text-xs text-violet-400 hover:text-white flex items-center gap-1">
                                    <i data-lucide="git-fork" class="w-3 h-3"></i> View Code
                                </a>
                             </div>
                            ` : `
                             <div class="flex flex-wrap gap-2">
                                ${project.tech.map(t => `<span class="text-xs font-medium text-violet-300 bg-violet-500/10 px-2 py-1 rounded">${t}</span>`).join('')}
                             </div>
                            `}
                        </div>
                    </div>`;
                    grid.appendChild(card);
                });
                lucide.createIcons();
                initSpotlights(); // Re-init for new elements
            } catch (error) {
                console.error(error);
                // Fallback rendering is same as above if array is empty, but handling error specifically:
                grid.innerHTML = '<div class="col-span-full text-center text-red-400">Failed to load projects.</div>';
            }
        }
        fetchProjects();

        // --- Spotlight Effect ---
        function initSpotlights() {
            document.querySelectorAll('.spotlight-card').forEach(card => {
                card.onmousemove = e => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    card.style.setProperty('--mouse-x', `${x}px`);
                    card.style.setProperty('--mouse-y', `${y}px`);
                };
            });
        }
        initSpotlights();

        // --- Intersection Observer for Animations ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });
        
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- Scroll Progress ---
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progress-bar').style.width = scrolled + "%";
        });

        // --- AI Chat Logic ---
        const chatWindow = document.getElementById('chat-window');
        const toggleBtn = document.getElementById('toggle-chat');
        const closeBtn = document.getElementById('close-chat');
        const iconOpen = document.getElementById('chat-icon-open');
        const iconClose = document.getElementById('chat-icon-close');
        const sendBtn = document.getElementById('send-btn');
        const chatInput = document.getElementById('chat-input');
        const messagesContainer = document.getElementById('chat-messages');

        let isChatOpen = false;
        let aiClient = null;
        let chatSession = null;

        function toggleChat() {
            isChatOpen = !isChatOpen;
            if (isChatOpen) {
                chatWindow.classList.remove('hidden');
                chatWindow.classList.add('chat-enter');
                iconOpen.classList.add('hidden');
                iconClose.classList.remove('hidden');
                if(!chatSession) initChat();
            } else {
                chatWindow.classList.add('hidden');
                chatWindow.classList.remove('chat-enter');
                iconOpen.classList.remove('hidden');
                iconClose.classList.add('hidden');
            }
        }

        toggleBtn.addEventListener('click', toggleChat);
        closeBtn.addEventListener('click', toggleChat);

        function addMessage(text, role) {
            const div = document.createElement('div');
            div.className = `flex ${role === 'user' ? 'justify-end' : 'justify-start'}`;
            
            const bubble = document.createElement('div');
            bubble.className = `max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed ${
                role === 'user' 
                ? 'bg-violet-600 text-white rounded-tr-none shadow-lg shadow-violet-500/20' 
                : 'bg-white/5 text-slate-200 rounded-tl-none border border-white/10'
            }`;
            bubble.innerText = text;
            div.appendChild(bubble);
            messagesContainer.appendChild(div);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            return bubble; // Return for streaming updates
        }

        function initChat() {
            const apiKey = process.env.API_KEY;
            if(!apiKey) {
                addMessage("API Key missing. Chat disabled.", 'model');
                return;
            }
            try {
                aiClient = new GoogleGenAI({ apiKey });
                const systemInstruction = `
                    You are a helpful and professional AI assistant for Rithanya M's portfolio website.
                    Your role is to answer questions about Rithanya based ONLY on the following resume context.
                    Do not hallucinate facts.
                    Keep answers concise, engaging, and in the first person.
                    
                    CONTEXT:
                    Name: ${RESUME_DATA.name}
                    Role: ${RESUME_DATA.title}
                    Objective: ${RESUME_DATA.objective}
                    Education: ${JSON.stringify(RESUME_DATA.education)}
                    Skills: ${JSON.stringify(RESUME_DATA.skills)}
                    Internships: ${JSON.stringify(RESUME_DATA.internships)}
                    Projects: ${JSON.stringify(RESUME_DATA.projects)}
                    Certifications: ${JSON.stringify(RESUME_DATA.certifications)}
                    Leadership: ${JSON.stringify(RESUME_DATA.leadership)}
                    Contact: ${RESUME_DATA.contact.email}, ${RESUME_DATA.contact.linkedin}
                `;
                
                chatSession = aiClient.chats.create({
                    model: 'gemini-2.5-flash',
                    config: { systemInstruction }
                });
            } catch (e) {
                console.error(e);
                addMessage("Failed to initialize AI.", 'model');
            }
        }

        async function handleSend() {
            const text = chatInput.value.trim();
            if(!text || !chatSession) return;
            
            chatInput.value = '';
            addMessage(text, 'user');
            
            const loadingBubble = addMessage("Thinking...", 'model');
            
            try {
                const resultStream = await chatSession.sendMessageStream({ message: text });
                let fullText = "";
                for await (const chunk of resultStream) {
                    fullText += chunk.text;
                    loadingBubble.innerText = fullText;
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }
            } catch (error) {
                loadingBubble.innerText = "Sorry, I encountered an error.";
            }
        }

        sendBtn.addEventListener('click', handleSend);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend();
        });

    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
